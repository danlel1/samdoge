<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Staking SDM ‚Äî SamDoge</title>
  <meta name="theme-color" content="#0b1020" />
  <link rel="icon" href="assets/smd/favicon-32x32.png" sizes="32x32" />
  <link rel="apple-touch-icon" href="assets/smd/apple-touch-icon.png" />
  <style>
    :root{
      --bg:#0b1020;--panel:#0f1631;--card:#121a38;--muted:#c7d2ea;--txt:#fff;
      --accent:#f6b449;--accent-2:#ffd36a;--ok:#22c55e;--warn:#f59e0b;
      --border:rgba(255,255,255,.22);
      --shadow:0 10px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:
      radial-gradient(900px 520px at 15% -10%, #1a2454 0%, transparent 60%),
      radial-gradient(900px 520px at 120% 10%, #401c48 0%, transparent 55%),
      linear-gradient(180deg,#0b1020 0%,#090e1a 100%);
      color:var(--txt); font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Ubuntu; line-height:1.6}
    a{color:var(--accent); text-decoration:none}
    .container{width:min(1200px,94%); margin-inline:auto}
    header{position:sticky; top:0; z-index:60; backdrop-filter:saturate(140%) blur(10px);
      background:linear-gradient(180deg,rgba(11,16,32,.92),rgba(11,16,32,.55));
      border-bottom:1px solid var(--border)}
    .nav{display:flex; align-items:center; gap:10px; padding:10px 0}
    .brand{display:flex; align-items:center; gap:10px}
    .brand img{width:44px; height:44px}
    .brand span{font-weight:900}
    nav.main{display:flex; gap:12px; align-items:center}
    nav.main a{position:relative; padding:8px; color:var(--txt)}
    nav.main a:after{content:''; position:absolute; left:12px; right:12px; bottom:6px; height:2px; background:transparent; transition:background .18s}
    nav.main a:hover:after{background:linear-gradient(90deg,var(--accent),var(--accent-2))}
    .spacer{flex:1}
    .btn{cursor:pointer; display:inline-flex; align-items:center; gap:8px; padding:10px 14px;
      border-radius:12px; border:1px solid var(--border);
      background:linear-gradient(180deg,rgba(255,255,255,.18),rgba(255,255,255,.06));
      color:var(--txt); font-weight:800; box-shadow:var(--shadow)}
    .btn.accent{background:linear-gradient(180deg,var(--accent-2),var(--accent)); color:#1a1303; border-color:rgba(255,211,106,.85)}
    .btn.ghost{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02))}
    .btn.sm{padding:7px 10px; border-radius:10px; font-weight:700}
    .lang-select{border:1px solid var(--border); padding:8px 10px; border-radius:10px; background:#fff; color:#0e1116; font-weight:800}

    h1{font-size:clamp(26px,5vw,40px); margin:18px 0 6px}
    .muted{color:var(--muted)}
    .panel{background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.05));
      border:1px solid var(--border); border-radius:16px; padding:16px; box-shadow:var(--shadow)}
    .card{border:1px solid var(--border); background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.04));
      border-radius:14px; padding:14px; box-shadow:var(--shadow)}
    .grid{display:grid; grid-template-columns:1.3fr .7fr; gap:14px}
    .subgrid{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    .pill{display:inline-flex; gap:8px; align-items:center; padding:6px 12px; border-radius:999px;
      background:linear-gradient(180deg, rgba(255,211,106,.95), rgba(246,180,73,.95));
      border:1px solid rgba(255,211,106,.85); color:#1a1303; font-weight:900}

    .warn{border:1px dashed rgba(245,158,11,.6); background:rgba(245,158,11,.08)}
    .ok{color:var(--ok)}

    footer{border-top:1px solid var(--border); margin-top:34px; padding:18px 0; color:var(--muted)}
    #menuToggle{display:none}
    @media (max-width:980px){
      .grid{grid-template-columns:1fr}
      #menuToggle{display:inline-flex}
      nav.main{position:fixed; inset:60px 10px auto 10px; display:none; flex-direction:column; gap:6px; padding:10px; border:1px solid var(--border); border-radius:12px; background:rgba(11,16,32,.98)}
      nav.main.open{display:flex}
    }
    .plan{display:flex; flex-direction:column; gap:8px}
    .plan h4{margin:0}
    .plan small{color:var(--muted)}
    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    input[type="number"]{background:#0e1328; color:var(--txt); border:1px solid var(--border); border-radius:10px; padding:10px 12px; width:220px}
    .disabled{opacity:.6; pointer-events:none}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container nav">
      <a class="brand" href="index.html" aria-label="Accueil SamDoge">
        <img src="assets/smd/logo.png" alt="SamDoge logo">
        <span>SamDoge (SDM)</span>
      </a>

      <button id="menuToggle" class="btn ghost" aria-label="Ouvrir le menu">‚ò∞</button>
      <nav class="main" id="mainNav">
        <a href="index.html#about">√Ä propos</a>
        <a href="index.html#tokenomics">Tokenomics</a>
        <a href="index.html#howto">Comment acheter</a>
        <a href="index.html#roadmap">Feuille de route</a>
        <a href="index.html#links">Liens</a>
        <a href="staking.html">Staking</a>
        <a href="faq.html">FAQ</a>
      </nav>

      <div class="spacer"></div>
      <select id="lang" class="lang-select"><option value="fr">FR</option><option value="en">EN</option></select>
      <button id="connectBtn" class="btn accent">Se connecter</button>
    </div>
  </header>

  <!-- Main -->
  <main class="container" style="padding:14px 0 24px">
    <h1>Staking SDM</h1>
    <p class="muted">Choisis un plan (3/6/9/12 mois), approuve tes SDM puis stake. R√©clame et retire √† la fin du lock.</p>

    <div class="panel" style="margin:8px 0">
      <span class="pill">‚ö° BNB Smart Chain (BSC)</span>
    </div>

    <div class="grid">
      <!-- Colonne gauche : Choisir un plan -->
      <section class="panel">
        <h3>Choisir un plan</h3>

        <!-- Bloc d'explications (visible si non connect√©) -->
        <div id="helpBox" class="card">
          <h4>Comment d√©marrer ?</h4>
          <ol class="muted" style="margin:8px 0 0 18px">
            <li><b>Connecte ton wallet</b> via le bouton <em>Se connecter</em> (MetaMask / WalletConnect).</li>
            <li><b>V√©rifie le r√©seau</b> : bascule sur <em>BNB Smart Chain</em> si n√©cessaire.</li>
            <li><b>S√©lectionne un plan</b> (3/6/9/12 mois) et <b>approuve</b> les SDM.</li>
            <li><b>Stake</b> le montant voulu. Tes tokens seront <b>verrouill√©s</b> pendant la dur√©e choisie.</li>
            <li>√Ä la fin, <b>r√©clame et retire</b> tes SDM + int√©r√™ts.</li>
          </ol>
          <p class="muted" style="margin-top:10px">‚ö†Ô∏è Tant que tu n‚Äôes pas connect√©, la s√©lection de plan reste d√©sactiv√©e.</p>
        </div>

        <!-- Plans (affich√©s apr√®s connexion) -->
        <div id="plansBox" class="subgrid" style="display:none">
          <div class="card plan">
            <h4>3 mois</h4>
            <small>APY indicatif : <b>8%</b></small>
            <div class="row">
              <input id="amt3" type="number" min="0" placeholder="Montant SDM">
              <button class="btn sm" onclick="approve(3)">Approuver</button>
              <button class="btn sm" onclick="stake(3)">Staker</button>
            </div>
          </div>
          <div class="card plan">
            <h4>6 mois</h4>
            <small>APY indicatif : <b>12%</b></small>
            <div class="row">
              <input id="amt6" type="number" min="0" placeholder="Montant SDM">
              <button class="btn sm" onclick="approve(6)">Approuver</button>
              <button class="btn sm" onclick="stake(6)">Staker</button>
            </div>
          </div>
          <div class="card plan">
            <h4>9 mois</h4>
            <small>APY indicatif : <b>16%</b></small>
            <div class="row">
              <input id="amt9" type="number" min="0" placeholder="Montant SDM">
              <button class="btn sm" onclick="approve(9)">Approuver</button>
              <button class="btn sm" onclick="stake(9)">Staker</button>
            </div>
          </div>
          <div class="card plan">
            <h4>12 mois</h4>
            <small>APY indicatif : <b>20%</b></small>
            <div class="row">
              <input id="amt12" type="number" min="0" placeholder="Montant SDM">
              <button class="btn sm" onclick="approve(12)">Approuver</button>
              <button class="btn sm" onclick="stake(12)">Staker</button>
            </div>
          </div>

          <!-- Avertissement affich√© quand connect√© -->
          <div class="card warn" style="grid-column:1/-1">
            <b>‚ö†Ô∏è Avertissement</b>
            <p class="muted" style="margin:6px 0 0">
              Pendant la p√©riode choisie, vos SDM sont verrouill√©s.  
              <b>Si vous laissez votre d√©p√¥t plus longtemps que la dur√©e s√©lectionn√©e, les r√©compenses n‚Äôaugmentent pas au-del√† de cette dur√©e</b> ; vous gagnerez uniquement pour le plan choisi (3/6/9/12 mois).  
              Les crypto-actifs sont volatils ‚Äî n‚Äôinvestissez que ce que vous pouvez vous permettre de perdre (DYOR).
            </p>
          </div>
        </div>
      </section>

      <!-- Colonne droite : Wallet + positions -->
      <aside class="panel">
        <h3>Ton wallet</h3>
        <div class="card">
          <div class="row"><small class="muted">Address:</small> <span id="addr">‚Äî</span></div>
          <div class="row"><small class="muted">R√©seau:</small> <span id="net">‚Äî</span> <button class="btn sm" id="switchBsc">üîÅ Basculer BSC</button></div>
          <div class="row"><small class="muted">Solde SDM:</small> <span id="bal">‚Äî</span></div>
          <div class="row"><button id="disconnectBtn" class="btn sm">üîí D√©connecter</button></div>
        </div>

        <h3 style="margin-top:14px">Vos positions</h3>
        <div id="positions" class="card muted">Aucune position.</div>
      </aside>
    </div>

    <!-- Zone r√©clamation / retrait (exemple d‚ÄôUI, logique √† brancher) -->
    <section class="panel" style="margin-top:14px">
      <h3>R√©clamer & Retirer</h3>
      <div class="row">
        <input id="claimId" type="number" min="0" placeholder="ID de position">
        <button class="btn sm" onclick="claim()">R√©clamer</button>
        <button class="btn sm" onclick="exitPosition()">Exit (retour + rewards)</button>
      </div>
      <p class="muted" style="margin:8px 0 0">Les fonctions sont pr√™tes c√¥t√© interface. Il reste √† brancher le contrat du staking.</p>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container" style="display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap">
      <div>¬© <span id="year"></span> SamDoge. Tous droits r√©serv√©s.</div>
      <div style="opacity:.85">Made with üß° sur BSC ‚Ä¢ Style futuriste</div>
    </div>
  </footer>

<script>
  // --- NAV mobile
  const menuToggle = document.getElementById('menuToggle');
  const mainNav = document.getElementById('mainNav');
  menuToggle?.addEventListener('click',()=> mainNav.classList.toggle('open'));

  document.getElementById('year').textContent = new Date().getFullYear();

  // --- √âtat de connexion (placeholder; √† remplacer par votre logique Web3)
  let connected = false;
  let account = null;

  const connectBtn = document.getElementById('connectBtn');
  const disconnectBtn = document.getElementById('disconnectBtn');
  const addrEl = document.getElementById('addr');
  const netEl  = document.getElementById('net');
  const balEl  = document.getElementById('bal');

  const helpBox  = document.getElementById('helpBox');
  const plansBox = document.getElementById('plansBox');

  function updateUI(){
    if(connected){
      helpBox.style.display = 'none';
      plansBox.style.display = 'grid';
      connectBtn.textContent = 'Connect√©';
      connectBtn.classList.add('disabled');
      addrEl.textContent = account ?? '‚Äî';
      netEl.textContent  = 'BSC (pr√©vu)';
      balEl.textContent  = '‚Äî';
    }else{
      helpBox.style.display = 'block';
      plansBox.style.display = 'none';
      connectBtn.textContent = 'Se connecter';
      connectBtn.classList.remove('disabled');
      addrEl.textContent = '‚Äî'; netEl.textContent = '‚Äî'; balEl.textContent = '‚Äî';
    }
  }
  updateUI();

  connectBtn.addEventListener('click', async ()=>{
    // Ici on branchera MetaMask / WalletConnect.
    // Pour l‚Äôinstant on simule la connexion.
    connected = true;
    account = '0x1234‚Ä¶ABCD';
    updateUI();
  });

  disconnectBtn.addEventListener('click', ()=>{
    connected = false; account = null; updateUI();
  });

  document.getElementById('switchBsc').addEventListener('click', ()=>{
    alert('Basculement BSC: √† impl√©menter via ethereum.request({ method: "wallet_switchEthereumChain", params:[{ chainId: "0x38" }] })');
  });

  // --- Boutons (placeholders)
  function approve(months){
    if(!connected) return alert('Connecte d‚Äôabord ton wallet.');
    const amt = Number(document.getElementById('amt'+months).value||0);
    if(!amt) return alert('Entre un montant SDM.');
    alert(`Approval ${amt} SDM pour plan ${months} mois ‚Äî (brancher le contrat).`);
  }

  function stake(months){
    if(!connected) return alert('Connecte d‚Äôabord ton wallet.');
    const amt = Number(document.getElementById('amt'+months).value||0);
    if(!amt) return alert('Entre un montant SDM.');
    alert(`Stake ${amt} SDM sur ${months} mois ‚Äî (brancher le contrat).`);
  }

  function claim(){
    const id = Number(document.getElementById('claimId').value||0);
    if(!connected) return alert('Connecte d‚Äôabord ton wallet.');
    if(!id) return alert('Entre un ID de position.');
    alert(`R√©clamer la position #${id} ‚Äî (brancher le contrat).`);
  }
  function exitPosition(){
    const id = Number(document.getElementById('claimId').value||0);
    if(!connected) return alert('Connecte d‚Äôabord ton wallet.');
    if(!id) return alert('Entre un ID de position.');
    alert(`Exit de la position #${id} ‚Äî (brancher le contrat).`);
  }
</script>
</body>
</html>
