<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>SamDoge ‚Äî Staking</title>
  <meta name="theme-color" content="#0b1020"/>
  <link rel="icon" href="assets/smd/favicon-32x32.png" sizes="32x32"/>
  <link rel="apple-touch-icon" href="assets/smd/apple-touch-icon.png"/>
  <style>
    :root{
      --bg:#0b1020;--panel:#0f1631;--card:#121a38;--muted:#c7d2ea;
      --txt:#ffffff;--accent:#f59e0b;--accent-2:#ffd36a;--ok:#22c55e;--down:#ef4444;
      --border:rgba(255,255,255,.22);
      --shadow:0 10px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:
      radial-gradient(900px 520px at 15% -10%, #1a2454 0%, transparent 60%),
      radial-gradient(900px 520px at 120% 10%, #401c48 0%, transparent 55%),
      linear-gradient(180deg, #0b1020 0%, #090e1a 100%);
      color:var(--txt);font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;line-height:1.6;overflow-x:hidden}
    a{color:var(--accent)}
    .container{width:min(1200px,94%);margin-inline:auto}
    header{position:sticky;top:0;z-index:60;backdrop-filter:saturate(140%) blur(10px);
      background:linear-gradient(180deg,rgba(11,16,32,.92),rgba(11,16,32,.55));border-bottom:1px solid var(--border)}
    .nav{display:flex;align-items:center;gap:10px;padding:10px 0}
    .brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--txt)}
    .brand img{width:44px;height:44px}
    .brand span{font-weight:900;letter-spacing:.6px}
    nav.main{display:flex;gap:12px;align-items:center}
    nav.main a{position:relative;color:var(--txt);text-decoration:none;padding:8px}
    nav.main a:after{content:'';position:absolute;left:12px;right:12px;bottom:6px;height:2px;background:transparent;border-radius:4px;transition:.18s}
    nav.main a:hover:after{background:linear-gradient(90deg,var(--accent),var(--accent-2))}
    .spacer{flex:1}
    .btn{cursor:pointer;display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;border:1px solid var(--border);
      background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(255,255,255,.08));color:#fff;font-weight:800;text-decoration:none;box-shadow:var(--shadow)}
    .btn.accent{background:linear-gradient(180deg,var(--accent-2),var(--accent));color:#111;border-color:rgba(255,211,106,.85)}
    .btn.ghost{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));color:var(--txt)}
    .btn.sm{padding:8px 10px;border-radius:10px;font-weight:700}
    .lang-select{border:1px solid var(--border);padding:8px 10px;border-radius:10px;background:#ffffff;color:#0e1116;font-weight:800}
    #menuToggle{display:none}
    @media (max-width:980px){
      #menuToggle{display:inline-flex}
      nav.main{position:fixed;inset:60px 10px auto 10px;display:none;flex-direction:column;gap:6px;padding:10px;border:1px solid var(--border);border-radius:12px;background:rgba(11,16,32,.98)}
      nav.main.open{display:flex}
    }
    /* Page */
    .hero{padding:34px 0 8px}
    h1{font-size:clamp(28px,4.2vw,44px);margin:0 0 6px}
    .muted{color:var(--muted)}
    .grid{display:grid;grid-template-columns:1.1fr .9fr;gap:16px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .panel{background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.05));border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:var(--shadow)}
    .card{border:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.04));border-radius:14px;padding:14px;box-shadow:var(--shadow)}
    .stack{display:grid;gap:10px}
    .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    input[type="number"]{width:180px;max-width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);background:#fff;color:#111;font-weight:700}
    .kv{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width:640px){.kv{grid-template-columns:1fr}}
    .ok{color:var(--ok)} .bad{color:var(--down)}
    footer{border-top:1px solid var(--border);margin-top:34px;padding:18px 0;color:var(--muted)}
    .disclaimer{font-size:.85rem;margin-top:10px}
  </style>

  <!-- Ethers + Web3Modal + WalletConnect (via CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.13.2/dist/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
  <script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
</head>
<body>
  <header>
    <div class="container nav">
      <a class="brand" href="index.html"><img src="assets/smd/logo.png" alt="SamDoge logo"/><span>SamDoge (SDM)</span></a>
      <button id="menuToggle" class="btn ghost" aria-label="Ouvrir le menu">‚ò∞</button>
      <nav class="main" id="mainNav" aria-label="Main navigation">
        <a href="index.html#about" data-i18n="nav_about">√Ä propos</a>
        <a href="index.html#tokenomics" data-i18n="nav_tokenomics">Tokenomics</a>
        <a href="index.html#howto" data-i18n="nav_howto">Comment acheter</a>
        <a href="index.html#roadmap" data-i18n="nav_roadmap">Feuille de route</a>
        <a href="index.html#links" data-i18n="nav_links">Liens</a>
        <a href="staking.html" data-i18n="nav_staking">Staking</a>
        <a href="faq.html" data-i18n="nav_faq">FAQ</a>
      </nav>
      <div class="spacer"></div>
      <select id="lang" class="lang-select"><option value="fr">FR</option><option value="en">EN</option></select>
      <button id="connectBtn" class="btn accent">üîå <span data-i18n="connect">Se connecter</span></button>
    </div>
  </header>

  <section class="container hero">
    <h1 data-i18n="staking_title">Staking SDM</h1>
    <p class="muted" data-i18n="staking_sub">Connecte ton wallet (BSC) pour approuver, staker, retirer et r√©clamer tes r√©compenses.</p>
  </section>

  <section class="container" style="padding-bottom:16px">
    <div class="grid">
      <!-- Colonne gauche: actions staking -->
      <div class="panel">
        <div class="stack">
          <div class="card">
            <h3 data-i18n="your_wallet">Ton wallet</h3>
            <div class="kv">
              <div>Address<br><b id="addr">‚Äî</b></div>
              <div>R√©seau<br><b id="net">‚Äî</b></div>
              <div>Solde SDM<br><b id="balSdm">‚Äî</b></div>
              <div>SDM d√©pos√© (stak√©)<br><b id="staked">‚Äî</b></div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn sm" id="switchBsc">üîÅ <span data-i18n="switch_bsc">Basculer vers BSC</span></button>
              <button class="btn sm ghost" id="disconnect">‚èèÔ∏é <span data-i18n="disconnect">D√©connecter</span></button>
            </div>
          </div>

          <div class="card">
            <h3 data-i18n="approve_title">1) Autoriser (approve)</h3>
            <div class="row">
              <input id="approveAmount" type="number" min="0" step="0.000001" placeholder="0.0"/>
              <button class="btn sm" id="btnApprove">‚úÖ <span data-i18n="approve_btn">Approuver SDM</span></button>
            </div>
            <p class="muted" data-i18n="approve_help">Autorise le contrat de staking √† d√©penser tes SDM (n√©cessaire une fois par montant).</p>
          </div>

          <div class="card">
            <h3 data-i18n="stake_title">2) Staker</h3>
            <div class="row">
              <input id="stakeAmount" type="number" min="0" step="0.000001" placeholder="0.0"/>
              <button class="btn sm" id="btnStake">üüß <span data-i18n="stake_btn">Staker</span></button>
            </div>
          </div>

          <div class="card">
            <h3 data-i18n="unstake_title">Retirer (Unstake)</h3>
            <div class="row">
              <input id="unstakeAmount" type="number" min="0" step="0.000001" placeholder="0.0"/>
              <button class="btn sm" id="btnUnstake">‚Ü©Ô∏é <span data-i18n="unstake_btn">Unstaker</span></button>
            </div>
          </div>

          <div class="card">
            <h3 data-i18n="claim_title">R√©compenses</h3>
            <div class="kv">
              <div>Gagn√©<br><b id="earned">‚Äî</b></div>
              <div>&nbsp;</div>
            </div>
            <div class="row" style="margin-top:8px">
              <button class="btn sm" id="btnClaim">üéÅ <span data-i18n="claim_btn">R√©clamer</span></button>
              <button class="btn sm ghost" id="btnRefresh">‚Üª <span data-i18n="refresh_btn">Rafra√Æchir</span></button>
            </div>
          </div>

          <div class="muted" id="status" style="min-height:18px"></div>
        </div>
      </div>

      <!-- Colonne droite: infos -->
      <div class="panel">
        <h3>‚ÑπÔ∏è <span data-i18n="help_title">Aide & Conseils</span></h3>
        <ul class="muted">
          <li data-i18n="help_1">Assure-toi d‚Äô√™tre sur <b>BNB Smart Chain (BSC)</b> ‚Äî utilise le bouton ‚ÄúBasculer vers BSC‚Äù.</li>
          <li data-i18n="help_2">Flow : <b>Approve ‚Üí Stake</b>. L‚Äôapprove peut √™tre besoin √† nouveau si tu stakes plus tard un montant sup√©rieur.</li>
          <li data-i18n="help_3">Les noms de fonctions du contrat de staking doivent correspondre (stake, unstake, claim, earned). Adapte l‚ÄôABI si besoin.</li>
          <li data-i18n="help_4">Des frais r√©seau (BNB) s‚Äôappliquent pour chaque transaction.</li>
        </ul>
        <hr style="border:none;border-top:1px solid var(--border);margin:12px 0"/>
        <h4>‚ö†Ô∏è <span data-i18n="risk_title">Risque</span></h4>
        <p class="muted" data-i18n="risk_text">Le staking comporte des risques. Faites vos propres recherches (DYOR). Aucune garantie de rendement.</p>
      </div>
    </div>
  </section>

  <section class="container" id="disclaimer" style="padding:10px 0 24px">
    <div class="panel">
      <h3 data-i18n="disc_title">Avertissement</h3>
      <p class="muted" data-i18n="disc_text">
        SamDoge (SDM) est un jeton communautaire. Ce site n‚Äôest pas un conseil financier.
        Les crypto-actifs sont volatils et impliquent des risques : n‚Äôinvestissez que ce que vous pouvez vous permettre de perdre (DYOR).
      </p>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap">
      <div>¬© <span id="year"></span> SamDoge. Tous droits r√©serv√©s.</div>
      <div style="opacity:.85">Made with üß° sur BSC ‚Ä¢ Style futuriste</div>
    </div>
  </footer>

  <script>
    // ================== CONFIG √Ä RENSEIGNER ==================
    const CONFIG = {
      CHAIN_ID_HEX: '0x38', // BSC mainnet (56)
      CHAIN: {
        chainId: '0x38',
        chainName: 'BNB Smart Chain',
        nativeCurrency: { name:'BNB', symbol:'BNB', decimals:18 },
        rpcUrls: ['https://bsc-dataseed.binance.org/'],
        blockExplorerUrls: ['https://bscscan.com']
      },
      TOKEN_ADDRESS: '0xb02be67dbfbd500011c5bbb435fef555ad3f37f8', // SDM
      STAKING_ADDRESS: '0xSTAKING_CONTRACT_ADDRESS', // ‚Üê √† remplir
      // ABI minimales (adapter si n√©cessaire)
      ERC20_ABI: [
        'function decimals() view returns (uint8)',
        'function balanceOf(address) view returns (uint256)',
        'function allowance(address owner, address spender) view returns (uint256)',
        'function approve(address spender, uint256 amount) returns (bool)'
      ],
      STAKING_ABI: [
        'function stake(uint256 amount) external',
        'function unstake(uint256 amount) external',
        'function claim() external',
        'function earned(address account) view returns (uint256)',
        'function balanceOf(address account) view returns (uint256)' // si le staking contrat garde la balance
      ]
    };

    // ================== I18N ==================
    const dict = {
      fr:{
        nav_about:'√Ä propos',nav_tokenomics:'Tokenomics',nav_howto:'Comment acheter',nav_roadmap:'Feuille de route',nav_links:'Liens',nav_staking:'Staking',nav_faq:'FAQ',
        connect:'Se connecter',staking_title:'Staking SDM',staking_sub:'Connecte ton wallet (BSC) pour approuver, staker, retirer et r√©clamer tes r√©compenses.',
        your_wallet:'Ton wallet',switch_bsc:'Basculer vers BSC',disconnect:'D√©connecter',
        approve_title:'1) Autoriser (approve)',approve_btn:'Approuver SDM',approve_help:"Autorise le contrat de staking √† d√©penser tes SDM (n√©cessaire une fois par montant).",
        stake_title:'2) Staker',stake_btn:'Staker',
        unstake_title:'Retirer (Unstake)',unstake_btn:'Unstaker',
        claim_title:'R√©compenses',claim_btn:'R√©clamer',refresh_btn:'Rafra√Æchir',
        help_title:'Aide & Conseils',
        help_1:'Assure-toi d‚Äô√™tre sur BNB Smart Chain (BSC) ‚Äî utilise le bouton ‚ÄúBasculer vers BSC‚Äù.',
        help_2:'Flow : Approve ‚Üí Stake. Tu devras peut-√™tre re-approuver pour des montants plus √©lev√©s.',
        help_3:'Les fonctions du contrat doivent correspondre (stake, unstake, claim, earned). Adapte l‚ÄôABI si besoin.',
        help_4:'Des frais r√©seau (BNB) s‚Äôappliquent.',
        risk_title:'Risque',
        risk_text:'Le staking comporte des risques. DYOR. Aucune garantie de rendement.',
        disc_title:'Avertissement',
        disc_text:'SamDoge (SDM) est un jeton communautaire. Ce site n‚Äôest pas un conseil financier. Les crypto-actifs sont volatils et impliquent des risques : n‚Äôinvestissez que ce que vous pouvez vous permettre de perdre (DYOR).'
      },
      en:{
        nav_about:'About',nav_tokenomics:'Tokenomics',nav_howto:'How to Buy',nav_roadmap:'Roadmap',nav_links:'Links',nav_staking:'Staking',nav_faq:'FAQ',
        connect:'Connect',staking_title:'SDM Staking',staking_sub:'Connect your wallet (BSC) to approve, stake, unstake and claim rewards.',
        your_wallet:'Your wallet',switch_bsc:'Switch to BSC',disconnect:'Disconnect',
        approve_title:'1) Approve',approve_btn:'Approve SDM',approve_help:'Allow the staking contract to spend your SDM (required once per amount).',
        stake_title:'2) Stake',stake_btn:'Stake',
        unstake_title:'Withdraw (Unstake)',unstake_btn:'Unstake',
        claim_title:'Rewards',claim_btn:'Claim',refresh_btn:'Refresh',
        help_title:'Help & Tips',
        help_1:'Make sure you are on BNB Smart Chain (BSC) ‚Äî use ‚ÄúSwitch to BSC‚Äù.',
        help_2:'Flow: Approve ‚Üí Stake. You may need to approve again for higher amounts.',
        help_3:'Contract functions must match (stake, unstake, claim, earned). Adjust ABI if needed.',
        help_4:'Network fees (BNB) apply.',
        risk_title:'Risk',
        risk_text:'Staking carries risks. DYOR. No guaranteed returns.',
        disc_title:'Disclaimer',
        disc_text:'SamDoge (SDM) is a community token. This is not financial advice. Crypto assets are volatile and risky: only invest what you can afford to lose (DYOR).'
      }
    };
    const langSel=document.getElementById('lang');
    function applyLang(l){document.querySelectorAll('[data-i18n]').forEach(el=>{const k=el.getAttribute('data-i18n');if(dict[l]&&dict[l][k]) el.textContent=dict[l][k];});document.documentElement.lang=l;}
    langSel.addEventListener('change',e=>applyLang(e.target.value)); applyLang('fr');

    // ================== Menu mobile ==================
    document.getElementById('menuToggle').addEventListener('click',()=>document.getElementById('mainNav').classList.toggle('open'));
    document.getElementById('year').textContent=new Date().getFullYear();

    // ================== Web3: Web3Modal + Ethers ==================
    let web3Modal, provider, ethersProvider, signer, account, chainId;
    const connectBtn = document.getElementById('connectBtn');
    const disconnectBtn = document.getElementById('disconnect');
    const switchBscBtn = document.getElementById('switchBsc');

    // UI refs
    const addrEl=document.getElementById('addr');
    const netEl=document.getElementById('net');
    const balSdmEl=document.getElementById('balSdm');
    const stakedEl=document.getElementById('staked');
    const earnedEl=document.getElementById('earned');
    const statusEl=document.getElementById('status');

    const approveAmountEl=document.getElementById('approveAmount');
    const stakeAmountEl=document.getElementById('stakeAmount');
    const unstakeAmountEl=document.getElementById('unstakeAmount');

    const btnApprove=document.getElementById('btnApprove');
    const btnStake=document.getElementById('btnStake');
    const btnUnstake=document.getElementById('btnUnstake');
    const btnClaim=document.getElementById('btnClaim');
    const btnRefresh=document.getElementById('btnRefresh');

    function logStatus(msg,isErr=false){ statusEl.textContent=msg; statusEl.style.color=isErr?'var(--down)':'var(--muted)'; }

    async function ensureBsc(){
      try{
        const eth = provider || window.ethereum; if(!eth) return;
        const current = await eth.request({method:'eth_chainId'});
        if(current?.toLowerCase()!==CONFIG.CHAIN_ID_HEX.toLowerCase()){
          try{
            await eth.request({method:'wallet_switchEthereumChain', params:[{ chainId: CONFIG.CHAIN_ID_HEX }]});
          }catch(switchErr){
            if(switchErr.code===4902){ // add chain
              await eth.request({method:'wallet_addEthereumChain', params:[CONFIG.CHAIN]});
            }else{ throw switchErr; }
          }
        }
      }catch(e){ logStatus('Impossible de basculer sur BSC',true); }
    }

    function fmt(amount,dec=18,digits=6){
      try{
        const v = Number(ethers.formatUnits(amount??0, dec));
        const max = v<1 ? 6 : 2;
        return v.toLocaleString(undefined,{maximumFractionDigits:digits??max});
      }catch{ return '‚Äî';}
    }

    async function updateUi(){
      try{
        if(!signer) return;
        const token = new ethers.Contract(CONFIG.TOKEN_ADDRESS, CONFIG.ERC20_ABI, ethersProvider);
        const staking = new ethers.Contract(CONFIG.STAKING_ADDRESS, CONFIG.STAKING_ABI, ethersProvider);

        const [dec, bal, staked, earned] = await Promise.all([
          token.decimals(),
          token.balanceOf(account),
          staking.balanceOf ? staking.balanceOf(account) : 0n,
          staking.earned ? staking.earned(account) : 0n
        ]);

        balSdmEl.textContent = fmt(bal, dec);
        stakedEl.textContent = staked ? fmt(staked, dec) : '‚Äî';
        earnedEl.textContent = earned ? fmt(earned, dec) : '‚Äî';
      }catch(e){ /* lecture best-effort */ }
    }

    async function onConnect(){
      try{
        // Init Web3Modal (WalletConnect + injected)
        web3Modal = new window.Web3Modal.default({
          cacheProvider:false,
          providerOptions:{
            walletconnect:{ package: window.WalletConnectProvider.default, options:{ rpc:{56:'https://bsc-dataseed.binance.org/'}, chainId:56 } }
          },
          theme:'dark'
        });

        const extProvider = await web3Modal.connect();
        provider = extProvider;
        ethersProvider = new ethers.BrowserProvider(extProvider);
        signer = await ethersProvider.getSigner();
        account = (await signer.getAddress());
        chainId = (await ethersProvider.getNetwork()).chainId;

        addrEl.textContent = account.slice(0,6)+'‚Ä¶'+account.slice(-4);
        netEl.textContent = Number(chainId)===56 ? 'BSC (56)' : 'Chain '+String(chainId);

        // events
        provider.on?.('accountsChanged',()=>location.reload());
        provider.on?.('chainChanged',()=>location.reload());
        provider.on?.('disconnect',()=>location.reload());

        await ensureBsc();
        await updateUi();
        logStatus('Connect√©');
      }catch(e){
        logStatus('Connexion annul√©e ou impossible',true);
      }
    }

    async function onDisconnect(){
      try{
        await web3Modal?.clearCachedProvider();
      }catch{}
      provider = null; signer=null; ethersProvider=null; account=null;
      location.reload();
    }

    async function doApprove(){
      try{
        if(!signer) return logStatus('Connecte ton wallet',true);
        const token = new ethers.Contract(CONFIG.TOKEN_ADDRESS, CONFIG.ERC20_ABI, signer);
        const dec = await token.decimals();
        const amt = approveAmountEl.value?.trim();
        if(!amt || Number(amt)<=0) return logStatus('Montant invalide',true);
        const value = ethers.parseUnits(amt, dec);
        logStatus('Signature approve‚Ä¶');
        const tx = await token.approve(CONFIG.STAKING_ADDRESS, value);
        logStatus('Approve envoy√©. Attente‚Ä¶');
        await tx.wait();
        logStatus('Approve confirm√© ‚úÖ');
      }catch(e){ logStatus('Approve √©chou√©',true); }
    }

    async function doStake(){
      try{
        if(!signer) return logStatus('Connecte ton wallet',true);
        const token = new ethers.Contract(CONFIG.TOKEN_ADDRESS, CONFIG.ERC20_ABI, signer);
        const staking = new ethers.Contract(CONFIG.STAKING_ADDRESS, CONFIG.STAKING_ABI, signer);
        const dec = await token.decimals();
        const amt = stakeAmountEl.value?.trim();
        if(!amt || Number(amt)<=0) return logStatus('Montant invalide',true);
        const value = ethers.parseUnits(amt, dec);
        logStatus('Envoi stake‚Ä¶');
        const tx = await staking.stake(value);
        await tx.wait();
        logStatus('Stake confirm√© ‚úÖ');
        await updateUi();
      }catch(e){ logStatus('Stake √©chou√©',true); }
    }

    async function doUnstake(){
      try{
        if(!signer) return logStatus('Connecte ton wallet',true);
        const token = new ethers.Contract(CONFIG.TOKEN_ADDRESS, CONFIG.ERC20_ABI, signer);
        const staking = new ethers.Contract(CONFIG.STAKING_ADDRESS, CONFIG.STAKING_ABI, signer);
        const dec = await token.decimals();
        const amt = unstakeAmountEl.value?.trim();
        if(!amt || Number(amt)<=0) return logStatus('Montant invalide',true);
        const value = ethers.parseUnits(amt, dec);
        logStatus('Envoi unstake‚Ä¶');
        const tx = await staking.unstake(value);
        await tx.wait();
        logStatus('Unstake confirm√© ‚úÖ');
        await updateUi();
      }catch(e){ logStatus('Unstake √©chou√©',true); }
    }

    async function doClaim(){
      try{
        if(!signer) return logStatus('Connecte ton wallet',true);
        const staking = new ethers.Contract(CONFIG.STAKING_ADDRESS, CONFIG.STAKING_ABI, signer);
        logStatus('R√©clamation‚Ä¶');
        const tx = await staking.claim();
        await tx.wait();
        logStatus('R√©compenses r√©clam√©es ‚úÖ');
        await updateUi();
      }catch(e){ logStatus('Claim √©chou√©',true); }
    }

    // Boutons
    connectBtn.addEventListener('click', onConnect);
    disconnectBtn.addEventListener('click', onDisconnect);
    switchBscBtn.addEventListener('click', ensureBsc);
    btnApprove.addEventListener('click', doApprove);
    btnStake.addEventListener('click', doStake);
    btnUnstake.addEventListener('click', doUnstake);
    btnClaim.addEventListener('click', doClaim);
    btnRefresh.addEventListener('click', updateUi);
  </script>
</body>
</html>
